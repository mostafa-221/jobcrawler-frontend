<!--
    form to enter a new skill by name only
    minimum length is checked in front end
    uniqueness is checked at submit time in back end
-->


<div class="container main-div">
  <mat-card class="card fullHeight">
    <div class="card my-5">
      <div class="card-body">
        <button mat-raised-button type="button" (click)="navigateSkillList()"> back to Skill List&nbsp;
        </button>
        <p></p>

        <mat-divider class="divider"></mat-divider>
        <p></p>
        <p></p>
        <form (ngSubmit)="onSubmit()" #userForm="ngForm">
          <div class="form-group" class="center">

            <p></p>
            <input type="text"
                   required minlength="3"
                   [(ngModel)]="skill.name"
              class="form-control"
              id="name"
              name="name"
              placeholder="Enter skill name"
               #name="ngModel">

          <!--<div [hidden]="!name.pristine" class="alert alert-danger">Name is required</div> -->
              <div *ngIf="name.invalid && (name.dirty || name.touched)"
                   class="alert alert-danger">

                  <div *ngIf="name.errors.required">
                      Name is required.
                  </div>

                  <div *ngIf="name.errors.minlength">
                      Name must be at least 3 characters long.
                  </div>
              </div>
          </div>
          <p></p>
          <p></p>
          <div class="centernoborder">
            <button mat-raised-button type="button" type="Add skill"
            class="btn btn-info">Submit</button>
          </div>
        </form>
        <div *ngIf="!skillAcceptedBackend"> Failed to add skill: {{errorMessage}} </div>
      </div>
    </div>
  </mat-card>
</div>

